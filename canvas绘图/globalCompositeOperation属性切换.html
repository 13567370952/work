<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>globalCompositeOperation属性切换</title>
	<style type="text/css">
		#buttons{
			width: 1200px;
			margin: 50px auto;
		}
		#buttons a{
			text-decoration: none;
			margin-left: 10px;
		}
	</style>
</head>
<body>
	<canvas id="canvas" style="border: 1px solid #aaa;display: block;margin: 50px auto">
		当前浏览器不支持Canvas,请换一种浏览器重试。
	</canvas>
	<div id="buttons">
		<a href="#">source-over</a>
		<a href="#">source-atop</a>
		<a href="#">source-in</a>
		<a href="#">source-out</a>
		<a href="#">destination-over</a>
		<a href="#">destination-atop</a>
		<a href="#">destination-in</a>
		<a href="#">destination-out</a>
		<a href="#">lighter</a>
		<a href="#">copy</a>
		<a href="#">xor</a>
	</div>
	<script type="text/javascript">
		window.onload = function (){
			draw("source-over");
			var buttons = document.getElementById('buttons').getElementsByTagName('a');
			for(var i = 0;i<buttons.length;i++){
				buttons[i].onClick = function(){
					draw(this.text);
					return false;
				}
			}
		}
		function draw(compositeStyle){
			var canvas = document.getElementById("canvas");
			canvas.width =1200;
			canvas.height = 800;
			var context  = canvas.getContext("2d");
			context.fillStyle = "blue";
			context.fillRect(200,300,400,400);
			context.globalCompositeOperation = compositeStyle;
			context.beginPath();
			context.fillStyle = "red";
			context.moveTo(600,400);
			context.lineTo(300,750);
			context.lineTo(700,750);
			context.closePath();
			context.fill();
		}
	</script>
</body>
</html>